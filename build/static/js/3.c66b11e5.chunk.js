(this["webpackJsonprecipe-app"]=this["webpackJsonprecipe-app"]||[]).push([[3],{134:function(e,a,t){},136:function(e,a,t){"use strict";t.r(a);var n=t(1),o=t(0),l=t.n(o),s=t(6),i=t(8),r=(t(134),t(5)),c=t.n(r),u=function(e){return console.log("inside login service"),c.a.post("/api/login/",e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},m=function(e){var a="bearer ".concat(e);window.localStorage.setItem("token",a)},g=t(2);a.default=function(e){var a=e.setLoggedIn,t=Object(o.useState)(""),r=Object(n.a)(t,2),c=r[0],p=r[1],d=Object(o.useState)(""),h=Object(n.a)(d,2),b=h[0],w=h[1],f=Object(s.g)();return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"heading"},"COOKBOOK"),l.a.createElement("div",{className:"subheading"},"A Food Recipe Sharing Application"),l.a.createElement("div",{className:"lformcontainer"},l.a.createElement("form",{onSubmit:function(e){console.log("inside handle login"),e.preventDefault();var t={username:c.trim(),password:b.trim()};console.log(u),u(t).then((function(e){console.log(e),e?(a(!0),m(e.token),window.localStorage.setItem("loggedIn","true"),window.localStorage.setItem("loggedUser",c),g.a.showtoast("Login Successful!!"),f.push("/home")):(console.log("error while loggin in"),g.a.showtoast("Invalid Credentials!!"))}))}},l.a.createElement("label",{htmlFor:"username",className:"loglabel"},"Username"),l.a.createElement("input",{type:"text",name:"username",id:"username",value:c,onChange:function(e){p(e.target.value)}}),l.a.createElement("label",{htmlFor:"password",className:"loglabel"},"Password"),l.a.createElement("input",{type:"password",name:"password",id:"password",value:b,onChange:function(e){w(e.target.value)}}),l.a.createElement("input",{type:"submit",id:"login",value:"Login",name:"submit"}),l.a.createElement(i.b,{id:"slink",to:"/signup"},"Sign Up"))))}}}]);
//# sourceMappingURL=3.c66b11e5.chunk.js.map